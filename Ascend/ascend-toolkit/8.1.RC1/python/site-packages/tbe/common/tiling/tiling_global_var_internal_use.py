#!/usr/bin/env python
# -*- coding:utf-8 -*-
# Copyright 2019-2020 Huawei Technologies Co., Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# ============================================================================
"""
global variables
"""

# ===============================================
# below are global variables used in get_tiling.py
# ===============================================

BANK_CACHE = ""

# define the tiling_type
AUTO_TILING_TYPE = 0
REPOSITORY_TILING_TYPE = 1
CUSTOM_TILING_TYPE = 2
MODEL_TILING_TYPE = 3
TUNING_TILING_TYPE = 4
DSL_CACHE_TILING_TYPE = 5

# define the support tiling type
SUPPORT_TILING_TYPE = {
    "auto_tiling": AUTO_TILING_TYPE,
    "repository_tiling": REPOSITORY_TILING_TYPE,
    "custom_tiling": CUSTOM_TILING_TYPE,
    "cost_model_tiling": MODEL_TILING_TYPE,
    "tuning_tiling": TUNING_TILING_TYPE,
    "dsl_cache_tiling": DSL_CACHE_TILING_TYPE
}

# ===============================================
# below are global variables used in tiling_api.py
# ===============================================

# define the support model type
MODEL_TYPE = ["xgboost"]

# define transformer model support op when infer tiling
TRANSFORMER_OP = [
    "conv2d",
    "conv2d_backprop_input",
    "conv2d_backprop_filter",
    "matmul",
    "convolution_3d",
    "conv3d_backprop_input",
    "conv3d_backprop_filter",
]

# ===============================================
# below are global variables used in tiling_helper.py
# ===============================================

KEY_DEVICE_ID = "ASCEND_DEVICE_ID"

# ===============================================
# below are global variables used in tiling_query.py
# ===============================================

MAX_UINT64 = 2**64 - 1
MAX_UINT32 = 4294967295
MAX_UINT16 = 65535
MAX_UINT8 = 255
MAX_UINT4 = 15
MAX_BOOL = 1

SHAPE_LENGTH4 = 4
SHAPE_LENGTH5 = 5
SHAPE_LENGTH6 = 6

C04 = 4

TILING_DIMENSION = 24

# Encode the type of tensor data
DTYPE_DICT = {
    'uint8': 0,
    'int8': 1,
    'float16': 2,
    'int32': 3,
    'float32': 4
}

# Encode the type of op
OP_TYPE_DICT = {
    'conv2d': 0,
    'convolution': 0,
    'conv2d_backprop_input': 1,
    'conv2d_backprop_filter': 2,
    'depthwise_conv2d_forward': 3,
    'depthwise_bp_input': 4,
    'depthwise_bp_filter': 5,
    'depthwise_conv2d_native_v200': 6,
    'matmul': 7,
    'convolution_3d': 8,
    'conv3d_backprop_input': 9,
    'conv3d_backprop_filter': 10
}
