#!/usr/bin/env python
# -*- coding:utf-8 -*-
"""
Copyright (C) 2019. Huawei Technologies Co., Ltd. All rights reserved.
FILE:     tik_api_map.py
DESC:     tik_api_map
CREATED:  2021-12-23 12:28 PM
MODIFIED: 2021-12-23 12:28 PM
"""
# represent 5 soc, currently contains in tik
ASCEND_310 = "Ascend310"
ASCEND_910 = "Ascend910"
ASCEND_610 = "Ascend610"
ASCEND_310P = "Ascend310P"
HI3796CV300ES = "Hi3796CV300ES"
HI3796CV300CS = "Hi3796CV300CS"
SD3403 = "SD3403"
BS9SX1A = "BS9SX1A"
BS9SX2A = "BS9SX2A"
MC61AM21A = "MC61AM21A"
ASCEND_910B = "Ascend910B"
ASCEND_910_93 = "Ascend910_93"
ASCEND_310B = "Ascend310B"
ASCEND_310M = "AS31XM1"
ASCEND_031 = "Ascend031"
ASCEND_610L = "Ascend610Lite"
ASCEND_035 = "Ascend035"

_AIC_ENGINE = "AiCore"
_VEC_ENGINE = "VectorCore"

ASCEND_035AIC = ASCEND_035 + _AIC_ENGINE
ASCEND_310AIC = ASCEND_310 + _AIC_ENGINE
ASCEND_910AIC = ASCEND_910 + _AIC_ENGINE
AIC_610 = ASCEND_610 + _AIC_ENGINE
VEC_610 = ASCEND_610 + _VEC_ENGINE
AIC_310P = ASCEND_310P + _AIC_ENGINE
VEC_310P = ASCEND_310P + _VEC_ENGINE
AIC_610L = ASCEND_610L + _AIC_ENGINE
AIC_BS9SX1A = BS9SX1A + _AIC_ENGINE
VEC_BS9SX1A = BS9SX1A + _VEC_ENGINE
AIC_BS9SX2A = BS9SX2A + _AIC_ENGINE
AIC_MC61AM21A = MC61AM21A + _AIC_ENGINE
AIC_310B = ASCEND_310B + _AIC_ENGINE
VEC_310B = ASCEND_310B + _VEC_ENGINE
AIC_310M = ASCEND_310M + _AIC_ENGINE
VEC_310M = ASCEND_310M + _VEC_ENGINE
AIC_031 = ASCEND_031 + _AIC_ENGINE
VEC_031 = ASCEND_031 + _VEC_ENGINE
HI3796CV300ESAIC = HI3796CV300ES + _AIC_ENGINE
HI3796CV300CSAIC = HI3796CV300CS + _AIC_ENGINE
SD3403AIC = SD3403 + _AIC_ENGINE
ASCEND_910BAIC = ASCEND_910B + _AIC_ENGINE
ASCEND_910BVEC = ASCEND_910B + _VEC_ENGINE
ASCEND_910_93AIC = ASCEND_910_93 + _AIC_ENGINE
ASCEND_910_93VEC = ASCEND_910_93 + _VEC_ENGINE

BASIC_TYPE = {
    ASCEND_310AIC: [],
    ASCEND_910AIC: [],
    ASCEND_910BAIC: [],
    ASCEND_910BVEC: [],
    ASCEND_910_93AIC: [],
    ASCEND_910_93VEC: [],
    HI3796CV300ESAIC: [],
    HI3796CV300CSAIC: [],
    SD3403AIC: [],
    AIC_310P: [],
    VEC_310P: [],
    AIC_610: [],
    VEC_610: [],
    AIC_BS9SX1A: [],
    AIC_310B: [],
    AIC_310M: [],
}

VECTOR_DUP_V1 = {
    ASCEND_310AIC: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    ASCEND_910AIC: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    ASCEND_910BAIC: ["uint16", "int16", "float16", "uint32", "int32", "float32", "bfloat16"],
    ASCEND_910BVEC: ["uint16", "int16", "float16", "uint32", "int32", "float32", "bfloat16"],
    ASCEND_910_93AIC: ["uint16", "int16", "float16", "uint32", "int32", "float32", "bfloat16"],
    ASCEND_910_93VEC: ["uint16", "int16", "float16", "uint32", "int32", "float32", "bfloat16"],
    HI3796CV300ESAIC: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    HI3796CV300CSAIC: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    SD3403AIC: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_610: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    VEC_610: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_310P: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    VEC_310P: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_BS9SX1A: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_031: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    VEC_031: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    VEC_BS9SX1A: ["uint16", "int16", "float16", "uint32", "int32", "float32"],
    ASCEND_035AIC: ["uint16", "int16", "float16"],
}

VECTOR_DUP_V300 = {
    VEC_310B: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_310B: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_310M: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    VEC_310M: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_610L: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_BS9SX2A: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
    AIC_MC61AM21A: ["uint8", "int8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
}

RSQRT_REC_HIGH_TYPE = {
    ASCEND_310AIC: ["float16", "float32"],
    ASCEND_910AIC: ["float16", "float32"],
    ASCEND_910BAIC: ["float16", "float32"],
    ASCEND_910BVEC: ["float16", "float32"],
    ASCEND_910_93AIC: ["float16", "float32"],
    ASCEND_910_93VEC: ["float16", "float32"],
    AIC_610: ["float16", "float32"],
    AIC_310P: ["float16", "float32"],
    VEC_310P: ["float16", "float32"],
    VEC_610: ["float16", "float32"],
    AIC_BS9SX1A: ["float16", "float32"],
    VEC_BS9SX1A: ["float16", "float32"],
    VEC_310B: ["float16", "float32"],
    AIC_310B: ["float16", "float32"],
    AIC_310M: ["float16", "float32"],
    VEC_310M: ["float16", "float32"],
    AIC_610L: ["float16", "float32"],
    AIC_BS9SX2A: ["float16", "float32"],
    AIC_MC61AM21A: ["float16", "float32"],
}

VLN_EXPM_REC_HIGH_TYPE = {
    ASCEND_310AIC: ["float16"],
    ASCEND_910AIC: ["float16"],
    ASCEND_910BAIC: ["float16"],
    ASCEND_910BVEC: ["float16"],
    ASCEND_910_93AIC: ["float16"],
    ASCEND_910_93VEC: ["float16"],
    AIC_610: ["float16"],
    VEC_610: ["float16"],
    AIC_310P: ["float16"],
    VEC_310P: ["float16"],
    AIC_BS9SX1A: ["float16"],
    VEC_BS9SX1A: ["float16"],
    VEC_310B: ["float16"],
    AIC_310B: ["float16"],
    AIC_310M: ["float16"],
    VEC_310M: ["float16"],
    AIC_610L: ["float16"],
    AIC_BS9SX2A: ["float16"],
    AIC_MC61AM21A: ["float16"],
}

CONV2D_MATMUL_TYPE = {
    ASCEND_310AIC: ["s8s8s32", "f16f16f32"],
    ASCEND_910AIC: ["s8s8s32", "f16f16f32"],
    ASCEND_910BAIC: ["s8s8s32", "f16f16f32", "f32f32f32"],
    ASCEND_910_93AIC: ["s8s8s32", "f16f16f32", "f32f32f32"],
    HI3796CV300CSAIC: ["s8s8s32", "f16f16f16"],
    SD3403AIC: ["s8s8s32", "f16f16f16"],
    AIC_310P: ["s8s8s32", "f16f16f32"],
    AIC_610: ["s8s8s32", "f16f16f32"],
    AIC_BS9SX1A: ["s8s8s32", "f16f16f32"],
    AIC_310B: ["s8s8s32", "f16f16f32", "f32f32f32"],
    AIC_310M: ["s8s8s32", "f16f16f32", "f32f32f32"],
    AIC_610L: ["s8s8s32", "f16f16f32"],
    AIC_BS9SX2A: ["s8s8s32", "f16f16f32"],
    AIC_MC61AM21A: ["s8s8s32", "f16f16f32"],
}

H_SEL_CMPV_TYPE = {
    ASCEND_310AIC: ["float16"],
    ASCEND_910AIC: ["float16", "float32"],
    ASCEND_910BAIC: ["float16", "float32"],
    ASCEND_910BVEC: ["float16", "float32"],
    ASCEND_910_93AIC: ["float16", "float32"],
    ASCEND_910_93VEC: ["float16", "float32"],
    HI3796CV300ESAIC: ["float16"],
    HI3796CV300CSAIC: ["float16"],
    SD3403AIC: ["float16"],
    AIC_610: ["float16", "float32"],
    VEC_610: ["float16", "float32"],
    AIC_310B: ["float16", "float32"],
    VEC_310B: ["float16", "float32"],
    AIC_310P: ["float16", "float32"],
    VEC_310P: ["float16", "float32"],
    AIC_BS9SX1A: ["float16", "float32"],
}

ONLY_TIK_API_MAP = {
    """
    contains api that not is instr.
    """
    "vector_dup_v1": VECTOR_DUP_V1,
    "vector_dup": dict(VECTOR_DUP_V1, **VECTOR_DUP_V300),
    "vec_trans_scatter": {
        ASCEND_310AIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_910AIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_910BAIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_910BVEC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_910_93AIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_910_93VEC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        HI3796CV300ESAIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        HI3796CV300CSAIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        SD3403AIC: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_610: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        VEC_610: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_310P: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        VEC_310P: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_BS9SX1A: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        VEC_BS9SX1A: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        VEC_310B: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_310B: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_310M: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        VEC_310M: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_610L: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_BS9SX2A: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        AIC_MC61AM21A: ["int8", "uint8", "uint16", "int16", "float16", "uint32", "int32", "float32"],
        ASCEND_035AIC: ["int8", "uint8", "uint16", "int16", "float16"],
    },
    "vci": {
        AIC_610: ["int16", "int32", "float16", "float32"],
        VEC_610: ["int16", "int32", "float16", "float32"],
        AIC_310P: ["int16", "int32", "float16", "float32"],
        VEC_310P: ["int16", "int32", "float16", "float32"],
        VEC_310B: ["int8", "int16", "int32", "float16", "float32"],
        AIC_310B: ["int8", "int16", "int32", "float16", "float32"],
        AIC_610L: ["int8", "int16", "int32", "float16", "float32"],
        AIC_BS9SX2A: ["int8", "int16", "int32", "float16", "float32"],
        AIC_MC61AM21A: ["int8", "int16", "int32", "float16", "float32"],
        AIC_310M: ["int8", "int16", "int32", "float16", "float32"],
        VEC_310M: ["int8", "int16", "int32", "float16", "float32"],
    },
    "data_move_v1": BASIC_TYPE,
    "vnchwtrans": {
        ASCEND_310AIC: ["uint16", "int16", "float16"],
        ASCEND_910AIC: ["uint16", "int16", "float16"],
        ASCEND_910BAIC: ["uint16", "int16", "float16"],
        ASCEND_910BVEC: ["uint16", "int16", "float16"],
        ASCEND_910_93AIC: ["uint16", "int16", "float16"],
        ASCEND_910_93VEC: ["uint16", "int16", "float16"],
        HI3796CV300ESAIC: ["uint16", "int16", "float16"],
        HI3796CV300CSAIC: ["uint16", "int16", "float16"],
        SD3403AIC: ["uint16", "int16", "float16"],
        AIC_610: ["uint16", "int16", "float16"],
        VEC_610: ["uint16", "int16", "float16"],
        AIC_310P: ["uint16", "int16", "float16"],
        VEC_310P: ["uint16", "int16", "float16"],
        AIC_BS9SX1A: ["uint16", "int16", "float16"],
    },
    "scalar_conv": {
        ASCEND_910AIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                        'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        ASCEND_910BAIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                         'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        ASCEND_910BVEC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                         'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        ASCEND_910_93AIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                         'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        ASCEND_910_93VEC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                         'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        HI3796CV300ESAIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                           'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        HI3796CV300CSAIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                           'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        SD3403AIC: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f',
                    'f322s32c', 'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_610: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                  'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_610: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                  'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_310P: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_310P: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_BS9SX1A: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                      'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_BS9SX1A: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                      'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_310B: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_310B: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_310M: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_310M: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_610L: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_BS9SX2A: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_MC61AM21A: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                   'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        AIC_031: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                  'f322s32z', 'f162f32', 'f322f16', 'f322f16o'],
        VEC_031: ['s322f32', 'f322s32r', 'f322s32a', 'f322s32f', 'f322s32c',
                  'f322s32z', 'f162f32', 'f322f16', 'f322f16o']
    },
    "mov_rpn_cor_ir_to_scalar": BASIC_TYPE,
    "load2dv1": {
        ASCEND_310AIC: ["int8", "uint8", "uint16", "int16", "float16"],
        ASCEND_910AIC: ["int8", "uint8", "uint16", "int16", "float16"],
    },
    "load2dv2": {
        HI3796CV300ESAIC: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        HI3796CV300CSAIC: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        SD3403AIC: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        AIC_610: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        AIC_310P: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        AIC_BS9SX1A: ["uint4", "int4", "int8", "uint8", "uint16", "int16", "float16"],
        ASCEND_910BAIC: ["int8", "uint8", "uint16", "int16", "float16", "float32"],
        ASCEND_910_93AIC: ["int8", "uint8", "uint16", "int16", "float16", "float32"],
        AIC_310B: ["int8", "uint8", "uint16", "int16", "float16", "float32"],
        AIC_310M: ["int8", "uint8", "uint16", "int16", "float16", "float32"],
        AIC_610L: ["int8", "uint8", "uint16", "int16", "float16"],
        AIC_BS9SX2A: ["int8", "uint8", "uint16", "int16", "float16"],
        AIC_MC61AM21A: ["int8", "uint8", "uint16", "int16", "float16"],
    },
    "load2dv3": {
        AIC_610L: ["int8", "uint8", "uint16", "int16", "float16"],
        AIC_BS9SX2A: ["int8", "uint8", "uint16", "int16", "float16"],
        AIC_MC61AM21A: ["int8", "uint8", "uint16", "int16", "float16"],
    },
    "assign": BASIC_TYPE,
    "set_l0_set_value": BASIC_TYPE,
    "load3dv1": {
        ASCEND_310AIC: [],
        ASCEND_910AIC: [],
        HI3796CV300ESAIC: [],
        HI3796CV300CSAIC: [],
        SD3403AIC: [],
        AIC_610: [],
        AIC_310P: [],
        AIC_BS9SX1A: [],
    },
    "col2img": {
        ASCEND_910AIC: ["float16", "float32"],
        AIC_610: ["float16", "float32"],
        AIC_310P: ["float16", "float32"],
        AIC_BS9SX1A: ["float16", "float32"],
    },
    "mmad_broadcast": {
        ASCEND_310AIC: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        ASCEND_910AIC: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        ASCEND_910BAIC: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        ASCEND_910_93AIC: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        HI3796CV300ESAIC: ['f32f32', 's32s32'],
        HI3796CV300CSAIC: ['f32f32', 's32s32'],
        SD3403AIC: ['f32f32', 's32s32'],
        AIC_610: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        AIC_310P: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
        AIC_BS9SX1A: ['f16f16', 'f32f32', 's32s32', 'f32f16'],
    },
    "mmad": {
        ASCEND_310AIC: ['u8u8u32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32'],
        ASCEND_910AIC: ['u8u8u32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32'],
        AIC_610: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32'],
        AIC_310P: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32'],
        HI3796CV300ESAIC: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16'],
        HI3796CV300CSAIC: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16'],
        SD3403AIC: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16'],
        AIC_BS9SX1A: ['u8u8u32', 'u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32'],
        ASCEND_910BAIC: ['u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32', 'f32f32f32'],
        ASCEND_910_93AIC: ['u8u8s32', 's8s8s32', 'u8s8s32', 'f16f16f16', 'f16f16f32', 'f32f32f32'],
        AIC_310B: ['s8s8s32', 'f16f16f32', 'f32f32f32'],
        AIC_310M: ['s8s8s32', 'f16f16f32', 'f32f32f32'],
        AIC_610L: ['s8s8s32', 'f16f16f32'],
        AIC_BS9SX2A: ['s8s8s32', 'f16f16f32'],
        AIC_MC61AM21A: ['s8s8s32', 'f16f16f32'],
    },
    "tensor_padding_with_matrix": {
        ASCEND_310AIC: [],
        ASCEND_910AIC: [],
        ASCEND_910BAIC: [],
        ASCEND_910BVEC: [],
        ASCEND_910_93AIC: [],
        ASCEND_910_93VEC: [],
        HI3796CV300ESAIC: [],
        HI3796CV300CSAIC: [],
        SD3403AIC: [],
        AIC_610: [],
        AIC_310P: [],
        AIC_BS9SX1A: [],
    },
    "data_move": BASIC_TYPE,
    "data_move_quant": BASIC_TYPE,
    "tensor_mov": BASIC_TYPE,
    "load3dv2": {
        HI3796CV300ESAIC: ["int8", "uint8", "float16"],
        HI3796CV300CSAIC: ["int8", "uint8", "float16"],
        SD3403AIC: ["int8", "uint8", "float16"],
        AIC_610: ["int8", "uint8", "float16"],
        AIC_310P: ["int8", "uint8", "float16"],
        AIC_BS9SX1A: ["int8", "uint8", "float16"],
        ASCEND_910BAIC: ["int8", "uint8", "float16", "float32"],
        ASCEND_910_93AIC: ["int8", "uint8", "float16", "float32"],
        AIC_310B: ["int8", "uint8", "float16", 'float32'],
        AIC_310M: ["int8", "uint8", "float16", 'float32'],
        AIC_610L: ["int8", "uint8", "float16"],
        AIC_BS9SX2A: ["int8", "uint8", "float16"],
        AIC_MC61AM21A: ["int8", "uint8", "float16"],
    },
    "load3dv2L12L0A": {
        AIC_610L: ["int8", "uint8", "int16", "uint16", "float16"],
        AIC_BS9SX2A: ["int8", "uint8", "int16", "uint16", "float16"],
        AIC_MC61AM21A: ["int8", "uint8", "int16", "uint16", "float16"],
    },
    "load3dv2L12L0B": {
        AIC_610L: ["int16", "uint16", "float16"],
        AIC_BS9SX2A: ["int16", "uint16", "float16"],
        AIC_MC61AM21A: ["int16", "uint16", "float16"],
    },
    "load_smask": BASIC_TYPE,
    "load_image": {
        ASCEND_310AIC: [],
        ASCEND_910AIC: [],
        ASCEND_910BAIC: [],
        ASCEND_910BVEC: [],
        ASCEND_910_93AIC: [],
        ASCEND_910_93VEC: [],
        HI3796CV300ESAIC: [],
        AIC_610: [],
        AIC_310P: [],
        AIC_BS9SX1A: [],
    },
    "mov_vmrgsort4_sr_to_scalar": BASIC_TYPE,
    "set_rpn_cor_ir": BASIC_TYPE,
    "set_rpn_offset": BASIC_TYPE,
    "mov_atomic_add_to_scalar": BASIC_TYPE,
    "mov_small_channel_to_scalar": BASIC_TYPE,
    "mov_system_cache_to_scalar": BASIC_TYPE,
    "mov_fp2int_mode_to_scalar": BASIC_TYPE,
    "set_atomic_add": {
        ASCEND_910AIC: ['float32'],
        ASCEND_910BAIC: ['float32', 'float16', 'int16', 'int32', 'int8', 'bfloat16'],
        ASCEND_910BVEC: ['float32', 'float16', 'int16', 'int32', 'int8', 'bfloat16'],
        ASCEND_910_93AIC: ['float32', 'float16', 'int16', 'int32', 'int8', 'bfloat16'],
        ASCEND_910_93VEC: ['float32', 'float16', 'int16', 'int32', 'int8', 'bfloat16'],
        AIC_610: ['float32', 'float16', 'int16'],
        VEC_610: ['float32', 'float16', 'int16'],
        AIC_310P: ['float32', 'float16', 'int16'],
        VEC_310P: ['float32', 'float16', 'int16'],
        HI3796CV300ESAIC: ['float32', 'float16', 'int16'],
        HI3796CV300CSAIC: ['float32', 'float16', 'int16'],
        SD3403AIC: ['float32', 'float16', 'int16'],
        VEC_BS9SX1A: ['float32', 'float16', 'int16'],
        AIC_BS9SX1A: ['float32', 'float16', 'int16'],
        VEC_310B: ['float32', 'float16', 'int16', 'int32'],
        AIC_310B: ['float32', 'float16', 'int16', 'int32'],
        VEC_310M: ['float32', 'float16', 'int16', 'int32'],
        AIC_310M: ['float32', 'float16', 'int16', 'int32'],
        AIC_610L: ['float32', 'float16', 'int16'],
        AIC_BS9SX2A: ['float32', 'float16', 'int16'],
        AIC_MC61AM21A: ['float32', 'float16', 'int16'],
    },
    "set_small_channel": BASIC_TYPE,
    "set_system_cache": BASIC_TYPE,
    "set_fp2int_mode": {
        ASCEND_910AIC: [],
        ASCEND_910BAIC: [],
        ASCEND_910BVEC: [],
        ASCEND_910_93AIC: [],
        ASCEND_910_93VEC: [],
        AIC_610: [],
        VEC_610: [],
        AIC_310P: [],
        VEC_310P: [],
        HI3796CV300ESAIC: [],
        HI3796CV300CSAIC: [],
        SD3403AIC: [],
        AIC_BS9SX1A: [],
        VEC_BS9SX1A: [],
        VEC_310B: [],
        AIC_310B: [],
        VEC_310M: [],
        AIC_310M: [],
        AIC_610L: [],
        AIC_BS9SX2A: [],
        AIC_MC61AM21A: [],
    },
    "instr_preload": BASIC_TYPE,
    "get_overflow_status": {
        ASCEND_910AIC: [],
        ASCEND_910BAIC: [],
        ASCEND_910BVEC: [],
        ASCEND_910_93AIC: [],
        ASCEND_910_93VEC: [],
    },
    "set_overflow_status": {
        ASCEND_910AIC: [],
        ASCEND_910BAIC: [],
        ASCEND_910BVEC: [],
        ASCEND_910_93AIC: [],
        ASCEND_910_93VEC: [],
    },
    "mov_cmpmask_to_tensor": BASIC_TYPE,
    "mov_tensor_to_cmpmask": BASIC_TYPE,
    "vec_rsqrt_high_preci": RSQRT_REC_HIGH_TYPE,
    "vec_ln_high_preci": VLN_EXPM_REC_HIGH_TYPE,
    "vec_expm1_high_preci": VLN_EXPM_REC_HIGH_TYPE,
    "vec_rec_high_preci": RSQRT_REC_HIGH_TYPE,
    "conv2d": CONV2D_MATMUL_TYPE,
    "fixpipe": {
        ASCEND_310AIC: ["f32f16", "f32f32", "s32s32", "s32f16"],
        ASCEND_910AIC: ["f32f16", "f32f32", "s32s32", "s32f16"],
        ASCEND_910BAIC: ["f32f16", "f32f32", "s32s32", "s32f16"],
        ASCEND_910_93AIC: ["f32f16", "f32f32", "s32s32", "s32f16"],
        HI3796CV300CSAIC: ["s32s32", "s32f16", "f16f16"],
        SD3403AIC: ["s32s32", "s32f16", "f16f16"],
        AIC_610: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_310P: ["f32f16", "f32f32", "s32s32", "s32f16"],
        VEC_310P: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_BS9SX1A: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_310B: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_310M: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_610L: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_BS9SX2A: ["f32f16", "f32f32", "s32s32", "s32f16"],
        AIC_MC61AM21A: ["f32f16", "f32f32", "s32s32", "s32f16"],
    },
    "matmul": CONV2D_MATMUL_TYPE,
    "h_cmpv": H_SEL_CMPV_TYPE,
    "h_sel": H_SEL_CMPV_TYPE,
    "h_sin": {
        ASCEND_310AIC: ["float16", "float32"],
        ASCEND_910AIC: ["float16", "float32"],
        AIC_310B: ["float16", "float32"],
        VEC_310B: ["float16", "float32"],
    },
    "h_cos": {
        ASCEND_310AIC: ["float16", "float32"],
        ASCEND_910AIC: ["float16", "float32"],
        AIC_310B: ["float16", "float32"],
        VEC_310B: ["float16", "float32"],
    },
    "h_quant": {
        ASCEND_310AIC: ["s322f16"],
        ASCEND_910AIC: ["s322f16"],
        AIC_310B: ["s322f16"],
        VEC_310B: ["s322f16"],
    },
    "vnchwconv": {
        ASCEND_310AIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        ASCEND_910AIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_031: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_031: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        ASCEND_035AIC: ["int8", "uint8", "uint16", "int16", "float16"],
        AIC_310B: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_310B: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_310M: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_310M: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_610: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_610: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_610L: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_BS9SX2A: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_MC61AM21A: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_BS9SX1A: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_BS9SX1A: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        AIC_310P: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        VEC_310P: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        ASCEND_910BAIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32", "bfloat16"],
        ASCEND_910BVEC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32", "bfloat16"],
        ASCEND_910_93AIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32", "bfloat16"],
        ASCEND_910_93VEC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32", "bfloat16"],
        HI3796CV300CSAIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        HI3796CV300ESAIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
        SD3403AIC: ["int8", "uint8", "uint16", "int16", "float16", "int32", "float32", "uint32"],
    },
    "vmla": {
        ASCEND_035AIC: ["float16"],
    },
    "vmadd": {
        ASCEND_035AIC: ["float16"],
    },
    "vmaddrelu": {
        ASCEND_035AIC: ["float16"],
    },
    "vaxpy": {
        ASCEND_035AIC: ["float16"],
    },
    "set_cond_task_id": {
        ASCEND_035AIC: [],
    },
}

arch_version_mode = {ASCEND_910: (0, 1),
                     ASCEND_910B: (0, 1, 2, 3, 4, 5, 6),
                     ASCEND_910_93: (0, 1, 2, 3, 4, 5, 6),
                     ASCEND_610: (0, 1, 2, 3),
                     ASCEND_310P: (0, 1, 2, 3),
                     BS9SX1A: (0, 1, 2, 3),
                     HI3796CV300CS: (0, 1, 2, 3),
                     SD3403: (0, 1, 2, 3),
                     ASCEND_310B: (0, 1, 2, 3, 4),
                     ASCEND_310M: (0, 1, 2, 3, 4),
                     ASCEND_610L: (0, 1, 2, 3),
                     BS9SX2A: (0, 1, 2, 3),
                     MC61AM21A: (0, 1, 2, 3),
                     HI3796CV300ES: (0, 1, 2, 3),
                     ASCEND_031: (0, 1, 2, 3, 4),
                     ASCEND_035: (0,),
                     }

int64_intrinsic_map = {
    "vrec": ["int64", "s64"], "vadd": ["int64", "s64"], "vadds": ["int64", "s64"],
    "vsub": ["int64", "s64"], "vdiv": ["int64", "s64"], "vrsqrt": ["int64", "s64"],
    "vmul": ["int64", "s64"], "vmax": ["int64", "s64"], "vmin": ["int64", "s64"],
    "vmuls": ["int64", "s64"], "vabs": ["int64", "s64"], "vcmax": ["int64", "s64"],
    "vcgmax": ["int64", "s64"], "vcmin": ["int64", "s64"], "vcgmin": ["int64", "s64"],
    "vcadd": ["int64", "s64"], "vcpadd": ["int64", "s64"], "vconv": ["s642f32"],
    "vor": ["int64", "s64"], "vand": ["int64", "s64"], "vnot": ["int64", "s64"],
    "vsqrt": ["int64", "s64"], "vrelu": ["int64", "s64"], "vsel": ["int64", "s64"],
    "vcmp": ["int64", "s64"], "vcmpv_ne": ["int64", "s64"], "vcmpv_eq": ["int64", "s64"],
    "vcmpv_gt": ["int64", "s64"], "vcmpv_ge": ["int64", "s64"], "vcmpv_lt": ["int64", "s64"],
    "vcmpv_le": ["int64", "s64"], "vadddeqrelu": ["f16s64s64"],
    "vcgadd": ["int64", "s64"], "vlrelu": ["int64", "s64"], "vshl": ["int64", "s64"],
    "vshr": ["int64", "s64"], "vmaxs": ["int64", "s64"], "vmins": ["int64", "s64"],
}
int64_support_map = {
    ASCEND_910AIC:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmin", "vmuls",
         "vabs", "vcmax", "vcgmax", "vcmin", "vcgmin",
         "vcadd", "vcpadd", "vconv", "vor", "vand",
         "vnot", "vsqrt", "vrelu", "vsel", "vcmp",
         "vcmpv_ne", "vcmpv_eq", "vcmpv_gt", "vcmpv_ge",
         "vcmpv_lt", "vcmpv_le", "vadddeqrelu", "vcgadd"],
    ASCEND_910BAIC:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcpadd", "vconv",
         "vor", "vand", "vnot", "vsqrt", "vrelu",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vlrelu", "vshr", "vshl", "vcgadd"],
    ASCEND_910BVEC:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcpadd", "vconv",
         "vor", "vand", "vnot", "vsqrt", "vrelu",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vlrelu", "vshr", "vshl", "vcgadd"],
    ASCEND_910_93AIC:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcpadd", "vconv",
         "vor", "vand", "vnot", "vsqrt", "vrelu",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vlrelu", "vshr", "vshl", "vcgadd"],
    ASCEND_910_93VEC:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcpadd", "vconv",
         "vor", "vand", "vnot", "vsqrt", "vrelu",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vlrelu", "vshr", "vshl", "vcgadd"],
    HI3796CV300CSAIC:
        ["vadd", "vsub", "vmax", "vmin", "vdiv",
         "vrsqrt", "vsqrt", "vmul", "vrelu", "vrec", "vabs", "vcadd",
         "vcgadd", "vcpadd", "vcmax", "vcgmax", "vcmin",
         "vcgmin", "vadds", "vmuls",
         "vmaxs", "vmins", "vor", "vand", "vnot",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vconv", "vlrelu"],
    HI3796CV300ESAIC:
        ["vadd", "vsub", "vmax", "vmin", "vdiv",
         "vrsqrt", "vsqrt", "vmul", "vrelu", "vrec", "vabs", "vcadd",
         "vcgadd", "vcpadd", "vcmax", "vcgmax", "vcmin",
         "vcgmin", "vadds", "vmuls",
         "vmaxs", "vmins", "vor", "vand", "vnot",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vconv", "vlrelu"],
    SD3403AIC:
        ["vadd", "vsub", "vmax", "vmin", "vdiv",
         "vrsqrt", "vsqrt", "vmul", "vrelu", "vrec", "vabs", "vcadd",
         "vcgadd", "vcpadd", "vcmax", "vcgmax", "vcmin",
         "vcgmin", "vadds", "vmuls",
         "vmaxs", "vmins", "vor", "vand", "vnot",
         "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vconv", "vlrelu"],
    ASCEND_310AIC:
        ["vrec", "vadd", "vadds", "vrsqrt", "vsub",
         "vmul", "vmax", "vmin", "vmuls", "vabs",
         "vcmax", "vcgmax", "vcmin", "vcgmin",
         "vcadd", "vcgadd", "vcpadd", "vconv",
         "vor", "vand", "vnot", "vrelu", "vsel",
         "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le"],
    AIC_610:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcgadd", "vcpadd",
         "vconv", "vor", "vand", "vnot", "vsqrt",
         "vrelu", "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vadddeqrelu", "vlrelu"],
    VEC_610:
        ["vcmpv_ne", "vcmpv_eq", "vcmpv_gt", "vcmpv_ge",
         "vcmpv_lt", "vcmpv_le", "vadd", "vsub", "vmax",
         "vmin", "vmul", "vand", "vor", "vrelu", "vabs",
         "vnot", "vadds", "vmuls", "vsel", "vcmp",
         "vadddeqrelu", "vrec", "vsqrt", "vrsqrt", "vdiv",
         "vmaxs", "vmins", "vconv", "vcadd", "vcmax",
         "vcmin", "vcgmin", "vcgadd", "vcgmax", "vcpadd",
         "vlrelu", "vshl", "vshr"],
    AIC_310P:
        ["vrec", "vadd", "vadds", "vsub", "vdiv",
         "vrsqrt", "vmul", "vmax", "vmaxs", "vmin",
         "vmins", "vmuls", "vabs", "vcmax", "vcgmax",
         "vcmin", "vcgmin", "vcadd", "vcgadd", "vcpadd",
         "vconv", "vor", "vand", "vnot", "vsqrt",
         "vrelu", "vsel", "vcmp", "vcmpv_ne", "vcmpv_eq",
         "vcmpv_gt", "vcmpv_ge", "vcmpv_lt", "vcmpv_le",
         "vadddeqrelu", "vlrelu"],
    VEC_310P:
        ["vcmpv_ne", "vcmpv_eq", "vcmpv_gt", "vcmpv_ge",
         "vcmpv_lt", "vcmpv_le", "vadd", "vsub", "vmax",
         "vmin", "vmul", "vand", "vor", "vrelu",
         "vabs", "vnot", "vadds", "vmuls", "vsel",
         "vcmp", "vadddeqrelu", "vrec", "vsqrt", "vrsqrt",
         "vdiv", "vmaxs", "vmins", "vconv", "vcadd",
         "vcmax", "vcmin", "vcgmin", "vcgadd", "vcgmax",
         "vcpadd", "vlrelu", "vshl", "vshr"],
}
