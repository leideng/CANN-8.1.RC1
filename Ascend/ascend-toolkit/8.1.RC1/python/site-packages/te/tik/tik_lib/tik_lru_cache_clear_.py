#!/usr/bin/env python
# -*- coding:utf-8 -*-
"""
Copyright (C) 2019. Huawei Technologies Co., Ltd. All rights reserved.
FILE:     tik_lru_cache_clear_.py
DESC:     clear all lru cache info for free cache memory
CREATED:  2021-11-09 18:53:42
MODIFIED: 2021-11-09 21:29:18
"""

from tbe.tik.common.util import get_bit_len
from tbe.tik.common.util import TikUtil
from tbe.tik.tik_lib.tik_tensor_ import dtype_bits_map


def clear_lru_cache_info():
    """
    clear lru cache info, free memory,
    Note: for ARM platform, cannot use gc get_objects() to free the cache, which cause ReferenceError
    Returns
    -------
    None
    """
    dtype_bits_map.cache_clear()
    get_bit_len.cache_clear()
    TikUtil.get_storage_scope.cache_clear()
