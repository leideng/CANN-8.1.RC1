#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
"""
Copyright (c) Huawei Technologies Co., Ltd. 2019-2020. All rights reserved.

rl schedule search, tss
"""
import copy


class ConsumerInfo:
    """
    ConsumerInfo
    """
    def __init__(self, index):
        # 初始化之后就不能变的成员
        self.ori_index = index
        self.at_candidates = []
        self.sampled_target = None

        # 最终的index
        self.index = index
        # 最终的at target
        self.updated_sampled_target = None

    def __str__(self):
        return "at_candidates:%s, sampled_target:%s, " \
               "updated_sampled_target:%s" % \
               (str(self.at_candidates), str(self.sampled_target),
                str(self.updated_sampled_target))

    def add_at_candidate(self, target_index):
        """

        :param target_index:
        """
        if target_index not in self.at_candidates:
            self.at_candidates.append(target_index)
            self.at_candidates.sort()

    def set_sampled_target(self, at_target):
        """

        :param at_target:
        """
        self.sampled_target = at_target

    def set_updated_sampled_target(self, at_target):
        """

        :param at_target:
        """
        self.updated_sampled_target = at_target

    def set_at_candidates(self, candidates):
        """

        :param candidates:
        """
        self.at_candidates = copy.deepcopy(candidates)
